<template>
    <lightning-card class="slds-card__header " label="Manage Teachers and Admins">
        <lightning-layout size="12">

            <lightning-layout-item size="4" class="slds-p-left_small">

                <lightning-icon icon-name="action:new_group" class="slds-p-left_small  " alternative-text="Clone"
                    title="Clone" onclick={navigate}></lightning-icon>

                <span class="slds-p-horizontal_small slds-p-around_medium" style="font-size: medium;
                font-weight: bold; ">MANAGE TEACHERS & ADMIN</span>

            </lightning-layout-item>

            <lightning-layout-item size="4" class="slds-align_absolute-center slds-p-left_xx-large ">

                <div>

                    <lightning-input name="Search teacher" label="Search Teachers" placeholder="Search Teachers"
                        type="search" value={TeacherName} onchange={handleSearch}></lightning-input>
                    <template for:each={TeacherList} for:item="TeacherObj" for:index="index">
                        <option key={TeacherObj.Id}>{TeacherObj.Name}</option>
                    </template>

                </div>

            </lightning-layout-item>

            <lightning-layout-item size="4" class=" slds-p-top_small slds-clearfix">

                <div>

                    <div class=" slds-float_right">

                        <c-add-teacher></c-add-teacher>

                    </div>

                </div>


            </lightning-layout-item>

        </lightning-layout>


        <lightning-tabset>

            <lightning-tab label="Manage Teacher">
                <div style="height: auto">
                    <lightning-datatable key-field="Id" data={dataList} columns={columns}
                        onrowselection={handleRowSelection} onrowaction={rowActionHandler} draft-values={fldsItemValues}
                        onsave={saveAction}>
                    </lightning-datatable>
                </div>

                <template if:true={isModalOpen}>
                    <!-- Modal/Popup Box LWC starts here -->
                    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                        aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_medium">
                        <div class="slds-modal__container">
                            <!-- Modal/Popup Box LWC header here -->


                            <header class="slds-modal__header">
                                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                    title="Close" onclick={closeModal}>
                                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                                        size="small"></lightning-icon>
                                    <span class="slds-assistive-text">Close</span>
                                </button>
                                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                                    Update Teacher Information
                                </h2>
                            </header>
                            <!-- <div class="slds-clearfix">
                                <div class="slds-float_right">
                                    <button
                                        class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                        title="Close" onclick={closeModal}>
                                        <lightning-icon icon-name="utility:close" alternative-text="close"
                                            variant="inverse" size="small"></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                </div>
                            </div> -->
                            <!-- Modal/Popup Box LWC body starts here -->
                            <c-edit-teacher edit-records-id={recordID} get-modal-value={isModalOpen}
                                onmodalchange={handleModalChange}></c-edit-teacher>
                        </div>
                    </section>
                    <div class="slds-backdrop slds-backdrop_open"></div>
                </template>

            </lightning-tab>

            <lightning-tab label="Manage Admins">
                Two Content !
            </lightning-tab>

            <lightning-tab label="Manage Role">
                Three Content !
            </lightning-tab>

        </lightning-tabset>

        <div slot="footer" class="slds-clearfix slds-p-top_xxx-small ">
            <lightning-button label="Delete" variant="brand" onclick={deleteSelectedTeachers}
                class="slds-var-m-left_xx-small slds-float_right"></lightning-button>
            <template if:true={isPopOpen}>

                <c-delete-confirmation records-id={eraseId} modal-value={isPopOpen} onmodalchange={handleModalChange}
                    obj-name="Contact"></c-delete-confirmation>

            </template>
        </div>

    </lightning-card>
</template>